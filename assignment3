import java.util.Scanner;

public class HotelBookingSystem {

    // Global constant for array dimensions
    private static final int FLOORS = 3;
    private static final int ROOMS_PER_FLOOR = 5;

    // The core data structure: a 2D array to represent the hotel.
    // true = Booked, false = Available
    private static boolean[][] hotelRooms = new boolean[FLOORS][ROOMS_PER_FLOOR];

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        boolean running = true;

        System.out.println(" Welcome to the Simple Hotel Booking System!");
        
        // Initialize all rooms as available (default is 'false' for boolean arrays)
        // No explicit initialization loop is needed, but we start the menu loop.

        while (running) {
            displayMenu();
            
            try {
                // Get user choice
                System.out.print("Enter your choice (1-3): ");
                int choice = scanner.nextInt();
                
                // Conditional logic (switch) to process menu options
                switch (choice) {
                    case 1:
                        viewRooms();
                        break;
                    case 2:
                        bookRoom(scanner);
                        break;
                    case 3:
                        running = false;
                        System.out.println(" Thank you for using the system. Goodbye!");
                        break;
                    default:
                        System.out.println(" Invalid choice. Please enter a number between 1 and 3.");
                }
            } catch (java.util.InputMismatchException e) {
                System.out.println(" Invalid input. Please enter a number.");
                // Consume the invalid input to prevent an infinite loop
                scanner.next(); 
            }
            System.out.println("----------------------------------------");
        }
        
        scanner.close();
    }

    /**
     * Displays the main menu options.
     */
    private static void displayMenu() {
        System.out.println("\n--- Main Menu ---");
        System.out.println("1. View Room Status");
        System.out.println("2. Book a Room");
        System.out.println("3. Exit System");
    }

    /**
     * Views and displays the status of all rooms in the hotel.
     */
    private static void viewRooms() {
        System.out.println("\n--- Room Status (F: Floor, R: Room) ---");
        System.out.println("| Status | Room Number (0 to " + (ROOMS_PER_FLOOR - 1) + ")");
        System.out.print("| F\\R    |");

        // Print header row for room numbers
        for (int r = 0; r < ROOMS_PER_FLOOR; r++) {
            System.out.printf("  %d  |", r);
        }
        System.out.println();
        
        // Print separator
        System.out.println("----------------------------------------------");

        // Looping construct: Nested loops to iterate through the 2D array
        for (int f = 0; f < FLOORS; f++) {
            System.out.printf("| Floor %d |", f);
            for (int r = 0; r < ROOMS_PER_FLOOR; r++) {
                // Conditional logic: Check the boolean status
                String status = hotelRooms[f][r] ? "BOOKED" : "FREE "; // 'true' is booked, 'false' is free
                System.out.printf(" %s |", status);
            }
            System.out.println();
        }
    }

    /**
     * Handles the room booking process by taking user input for floor and room number.
     * @param scanner The Scanner object for input.
     */
    private static void bookRoom(Scanner scanner) {
        System.out.println("\n--- Book a Room ---");

        try {
            System.out.print("Enter Floor Number (0 to " + (FLOORS - 1) + "): ");
            int floor = scanner.nextInt();

            System.out.print("Enter Room Number (0 to " + (ROOMS_PER_FLOOR - 1) + "): ");
            int room = scanner.nextInt();

            // Error Handling: Check for valid array boundaries
            if (floor < 0 || floor >= FLOORS || room < 0 || room >= ROOMS_PER_FLOOR) {
                System.out.println(" Invalid selection. Please check the available floor/room ranges.");
                return;
            }

            // Conditional Logic: Check if the room is already booked
            if (hotelRooms[floor][room]) {
                System.out.println(" Sorry, Room " + room + " on Floor " + floor + " is already BOOKED.");
            } else {
                // Successful Booking: Update the array status
                hotelRooms[floor][room] = true; 
                System.out.println("ðŸŽ‰ Success! Room " + room + " on Floor " + floor + " has been successfully BOOKED.");
            }

        } catch (java.util.InputMismatchException e) {
            System.out.println(" Invalid input format. Please enter numbers for the floor and room.");
            // Consume the invalid input
            scanner.next(); 
        }
    }
}
